'use strict';

import fs from 'fs';
import path from 'path';
import node from 'when/node';

/**
 * reads the text contents of <name>.txt in the fixtures folder
 * relative to the caller module's test file
 * @param  {String} name - the name of the fixture you want to read
 * @return {Promise<String>} - the retrieved fixture's file contents
 */
export default function readFromFixture(dirname, name) {
  return node.call(fs.readFile, path.join(dirname, 'fixtures/' + name + '.txt'), 'utf8').then(function (contents) {
    return contents.replace(/\r\n/g, '\n').trim();
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy91dGlscy9yZWFkRnJvbUZpeHR1cmUvcmVhZEZyb21GaXh0dXJlLmpzIl0sIm5hbWVzIjpbImZzIiwicGF0aCIsIm5vZGUiLCJyZWFkRnJvbUZpeHR1cmUiLCJkaXJuYW1lIiwibmFtZSIsImNhbGwiLCJyZWFkRmlsZSIsImpvaW4iLCJ0aGVuIiwiY29udGVudHMiLCJyZXBsYWNlIiwidHJpbSJdLCJtYXBwaW5ncyI6IkFBQUE7O0FBRUEsT0FBT0EsRUFBUCxNQUFlLElBQWY7QUFDQSxPQUFPQyxJQUFQLE1BQWlCLE1BQWpCO0FBQ0EsT0FBT0MsSUFBUCxNQUFpQixXQUFqQjs7QUFFQTs7Ozs7O0FBTUEsZUFBZSxTQUFTQyxlQUFULENBQTBCQyxPQUExQixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDdEQsU0FBT0gsS0FBS0ksSUFBTCxDQUFVTixHQUFHTyxRQUFiLEVBQXVCTixLQUFLTyxJQUFMLENBQVVKLE9BQVYsZ0JBQStCQyxJQUEvQixVQUF2QixFQUFtRSxNQUFuRSxFQUNKSSxJQURJLENBQ0MsVUFBQ0MsUUFBRDtBQUFBLFdBQWNBLFNBQVNDLE9BQVQsQ0FBaUIsT0FBakIsRUFBMEIsSUFBMUIsRUFBZ0NDLElBQWhDLEVBQWQ7QUFBQSxHQURELENBQVA7QUFFRCIsImZpbGUiOiJyZWFkRnJvbUZpeHR1cmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBub2RlIGZyb20gJ3doZW4vbm9kZSdcblxuLyoqXG4gKiByZWFkcyB0aGUgdGV4dCBjb250ZW50cyBvZiA8bmFtZT4udHh0IGluIHRoZSBmaXh0dXJlcyBmb2xkZXJcbiAqIHJlbGF0aXZlIHRvIHRoZSBjYWxsZXIgbW9kdWxlJ3MgdGVzdCBmaWxlXG4gKiBAcGFyYW0gIHtTdHJpbmd9IG5hbWUgLSB0aGUgbmFtZSBvZiB0aGUgZml4dHVyZSB5b3Ugd2FudCB0byByZWFkXG4gKiBAcmV0dXJuIHtQcm9taXNlPFN0cmluZz59IC0gdGhlIHJldHJpZXZlZCBmaXh0dXJlJ3MgZmlsZSBjb250ZW50c1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZWFkRnJvbUZpeHR1cmUgKGRpcm5hbWUsIG5hbWUpIHtcbiAgcmV0dXJuIG5vZGUuY2FsbChmcy5yZWFkRmlsZSwgcGF0aC5qb2luKGRpcm5hbWUsIGBmaXh0dXJlcy8ke25hbWV9LnR4dGApLCAndXRmOCcpXG4gICAgLnRoZW4oKGNvbnRlbnRzKSA9PiBjb250ZW50cy5yZXBsYWNlKC9cXHJcXG4vZywgJ1xcbicpLnRyaW0oKSlcbn1cbiJdfQ==